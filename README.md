# Vida-Go ğŸš€

**Vida-Go** æ˜¯ [vida](https://github.com/guyi-a/vida) é¡¹ç›®çš„ Go + Python æ··åˆæ¶æ„ç‰ˆæœ¬ï¼Œä¸€ä¸ªç°ä»£åŒ–çš„æ™ºèƒ½è§†é¢‘åº”ç”¨å¹³å°ã€‚

## âœ¨ é¡¹ç›®ç‰¹è‰²

### ğŸ—ï¸ æ··åˆæ¶æ„è®¾è®¡
- **GoæœåŠ¡**ï¼šå¤„ç†é«˜å¹¶å‘HTTPè¯·æ±‚ã€æ•°æ®åº“æ“ä½œã€ä¸šåŠ¡é€»è¾‘
- **Python AgentæœåŠ¡**ï¼šä¸“æ³¨AIåŠŸèƒ½ï¼ˆLangGraph Agentï¼‰
- **å¾®æœåŠ¡æ¶æ„**ï¼šæœåŠ¡è§£è€¦ï¼Œç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•

### ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹©æ··åˆæ¶æ„ï¼Ÿ
- âœ… **æ€§èƒ½æå‡**ï¼šGoçš„é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œé€‚åˆå¤„ç†å¤§é‡HTTPè¯·æ±‚
- âœ… **èµ„æºä¼˜åŒ–**ï¼šGoçš„å†…å­˜å ç”¨æ›´å°ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«
- âœ… **ç±»å‹å®‰å…¨**ï¼šGoçš„é™æ€ç±»å‹ç³»ç»Ÿï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- âœ… **ä¿ç•™ä¼˜åŠ¿**ï¼šPythonåœ¨AI/MLé¢†åŸŸçš„ç”Ÿæ€ä¼˜åŠ¿ï¼ˆLangChainã€LangGraphï¼‰

## ğŸ¥ æ ¸å¿ƒåŠŸèƒ½

### è§†é¢‘ç®¡ç†
- è§†é¢‘ä¸Šä¼ ï¼ˆæ”¯æŒå¤§æ–‡ä»¶åˆ†ç‰‡ï¼‰
- è§†é¢‘è½¬ç ï¼ˆåŸºäºFFmpegï¼‰
- è§†é¢‘ç®¡ç†ï¼ˆCRUDæ“ä½œï¼‰
- è§†é¢‘æ’­æ”¾ï¼ˆCDNåŠ é€Ÿï¼‰

### ç”¨æˆ·ç³»ç»Ÿ
- ç”¨æˆ·è®¤è¯ï¼ˆJWT Tokenï¼‰
- ç”¨æˆ·ç®¡ç†ï¼ˆæ³¨å†Œã€ç™»å½•ã€èµ„æ–™ç®¡ç†ï¼‰
- ç”¨æˆ·å…³ç³»ï¼ˆå…³æ³¨/ç²‰ä¸ç³»ç»Ÿï¼‰

### ç¤¾äº¤åŠŸèƒ½
- è¯„è®ºç³»ç»Ÿï¼ˆå¤šçº§è¯„è®ºï¼‰
- æ”¶è—åŠŸèƒ½
- äº’åŠ¨ç»Ÿè®¡ï¼ˆæ’­æ”¾é‡ã€ç‚¹èµæ•°ç­‰ï¼‰

### æ™ºèƒ½æœç´¢
- å…¨æ–‡æœç´¢ï¼ˆElasticsearch + IKåˆ†è¯ï¼‰
- AI Agentï¼ˆLangGraphæ™ºèƒ½æœç´¢ï¼‰
- å¤šç»´åº¦æœç´¢å’Œæ’åº

### AI AgentæœåŠ¡
- LangGraph Agentå·¥ä½œæµ
- å·¥å…·è°ƒç”¨ï¼ˆæœç´¢å·¥å…·ç­‰ï¼‰
- æµå¼å“åº”
- ä¸Šä¸‹æ–‡è®°å¿†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### GoæœåŠ¡
- **Webæ¡†æ¶**ï¼šGin
- **ORM**ï¼šGORM
- **æ•°æ®éªŒè¯**ï¼šgo-playground/validator
- **JWT**ï¼šgolang-jwt/jwt
- **é…ç½®ç®¡ç†**ï¼šviper
- **æ—¥å¿—**ï¼šzap
- **Redis**ï¼šgo-redis
- **MinIO**ï¼šminio-go
- **Kafka**ï¼šsegmentio/kafka-go
- **Elasticsearch**ï¼šelastic/go-elasticsearch

### Python AgentæœåŠ¡
- **Webæ¡†æ¶**ï¼šFastAPI
- **Agentæ¡†æ¶**ï¼šLangGraph
- **LLMæ¡†æ¶**ï¼šLangChain
- **æ•°æ®éªŒè¯**ï¼šPydantic

### åŸºç¡€è®¾æ–½
- **æ•°æ®åº“**ï¼šPostgreSQLï¼ˆæ”¯æŒpgvectorï¼‰
- **ç¼“å­˜**ï¼šRedis
- **å¯¹è±¡å­˜å‚¨**ï¼šMinIO
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šKafka
- **æœç´¢å¼•æ“**ï¼šElasticsearch
- **è§†é¢‘å¤„ç†**ï¼šFFmpeg

## ğŸ“ é¡¹ç›®ç»“æ„

```
vida-go/
â”œâ”€â”€ cmd/                    # Goåº”ç”¨å…¥å£
â”‚   â””â”€â”€ api/               # APIæœåŠ¡
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/              # Goç§æœ‰ä»£ç 
â”‚   â”œâ”€â”€ api/              # APIè·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ handler/      # HTTPå¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ middleware/   # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ service/          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ repository/       # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ model/            # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ schema/           # è¯·æ±‚/å“åº”ç»“æ„
â”‚   â”œâ”€â”€ client/           # å¤–éƒ¨æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ agent_client.go  # Python Agentå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ infra/            # åŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ database/     # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ redis/        # Rediså®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ minio/        # MinIOå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ kafka/        # Kafkaå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ elasticsearch/ # ESå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ task/             # å¼‚æ­¥ä»»åŠ¡
â”‚   â””â”€â”€ config/           # é…ç½®ç®¡ç†
â”œâ”€â”€ pkg/                   # å…¬å…±åº“
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ agent-service/         # Python AgentæœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/        # Agentæ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â””â”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ api/          # FastAPIè·¯ç”±
â”‚   â”‚   â””â”€â”€ schemas/      # Pydanticæ¨¡å‹
â”‚   â”œâ”€â”€ main.py           # PythonæœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ configs/               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”‚   â””â”€â”€ migration-plan.md # æ”¹é€ è®¡åˆ’æ–‡æ¡£
â”œâ”€â”€ api/                   # APIæ–‡æ¡£
â”‚   â””â”€â”€ openapi/
â”œâ”€â”€ docker-compose.yml     # Dockerç¼–æ’
â”œâ”€â”€ Dockerfile             # GoæœåŠ¡é•œåƒ
â”œâ”€â”€ Makefile              # æ„å»ºå‘½ä»¤
â””â”€â”€ go.mod                # Goæ¨¡å—å®šä¹‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go** 1.23+
- **Python** 3.10+
- **Docker** & **Docker Compose**
- **FFmpeg**ï¼ˆå¦‚æœæœ¬åœ°è¿è¡Œï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/guyi-a/vida-go.git
cd vida-go
```

### 2. ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://guyi:guyi123@postgres:5432/guyi-vida

# Redisé…ç½®
REDIS_URL=redis://redis:6379/0

# MinIOé…ç½®
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Kafkaé…ç½®
KAFKA_BOOTSTRAP_SERVERS=kafka:29092

# Elasticsearché…ç½®
ELASTICSEARCH_HOSTS=elasticsearch:9200

# AgentæœåŠ¡é…ç½®
AGENT_SERVICE_URL=http://agent-service:8001

# LLMé…ç½®ï¼ˆAI Agentï¼‰
DASHSCOPE_API_KEY=your_api_key_here
LLM_MODEL=qwen-max

# JWTé…ç½®
SECRET_KEY=your_secret_key_here
```

### 3. ä½¿ç”¨Docker Composeå¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
docker-compose up -d
```

è¿™å°†å¯åŠ¨ä»¥ä¸‹æœåŠ¡ï¼š
- **Go APIæœåŠ¡**ï¼ˆç«¯å£ï¼š8000ï¼‰
- **Python AgentæœåŠ¡**ï¼ˆç«¯å£ï¼š8001ï¼‰
- **PostgreSQL**ï¼ˆç«¯å£ï¼š5432ï¼‰
- **Redis**ï¼ˆç«¯å£ï¼š6379ï¼‰
- **MinIO**ï¼ˆAPIï¼š9000ï¼ŒConsoleï¼š9001ï¼‰
- **Kafka**ï¼ˆç«¯å£ï¼š9092ï¼‰
- **Elasticsearch**ï¼ˆç«¯å£ï¼š9200ï¼‰

### 4. è®¿é—®æœåŠ¡

- **APIæ–‡æ¡£**ï¼šhttp://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8000/healthz
- **MinIOæ§åˆ¶å°**ï¼šhttp://localhost:9001ï¼ˆminioadmin/minioadminï¼‰

## ğŸ’» æœ¬åœ°å¼€å‘

### GoæœåŠ¡å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
go mod download

# 2. å¯åŠ¨åŸºç¡€è®¾æ–½ï¼ˆæ•°æ®åº“ç­‰ï¼‰
docker-compose up -d postgres redis minio kafka elasticsearch

# 3. è¿è¡ŒGoæœåŠ¡
go run cmd/api/main.go

# æˆ–ä½¿ç”¨Makefile
make run
```

### Python AgentæœåŠ¡å¼€å‘

```bash
# 1. è¿›å…¥agent-serviceç›®å½•
cd agent-service

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆWindowsï¼‰
.\venv\Scripts\Activate.ps1

# 4. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 5. è¿è¡ŒæœåŠ¡
uvicorn main:app --reload --host 0.0.0.0 --port 8001
```

## ğŸ“š å¼€å‘æŒ‡å—

### Makefileå‘½ä»¤

```bash
make help          # æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
make build         # ç¼–è¯‘Goç¨‹åº
make run           # è¿è¡ŒGoæœåŠ¡
make test          # è¿è¡Œæµ‹è¯•
make lint          # ä»£ç æ£€æŸ¥
make docker-build  # æ„å»ºDockeré•œåƒ
make docker-up     # å¯åŠ¨æ‰€æœ‰æœåŠ¡
make docker-down   # åœæ­¢æ‰€æœ‰æœåŠ¡
```

### ä»£ç è§„èŒƒ

- **Goä»£ç **ï¼šéµå¾ªGoå®˜æ–¹è§„èŒƒï¼Œä½¿ç”¨`gofmt`æ ¼å¼åŒ–
- **Pythonä»£ç **ï¼šéµå¾ªPEP 8è§„èŒƒï¼Œä½¿ç”¨`black`æ ¼å¼åŒ–
- **æäº¤ä¿¡æ¯**ï¼šä½¿ç”¨Conventional Commitsè§„èŒƒ

## ğŸ“– æ–‡æ¡£

- [æ”¹é€ è®¡åˆ’æ–‡æ¡£](docs/migration-plan.md) - è¯¦ç»†çš„Pythonåˆ°Goè¿ç§»è®¡åˆ’
- [APIæ–‡æ¡£](http://localhost:8000/docs) - Swagger APIæ–‡æ¡£
- [æ¶æ„è®¾è®¡](docs/architecture.md) - ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ˆå¾…è¡¥å……ï¼‰

## ğŸ”„ é¡¹ç›®çŠ¶æ€

å½“å‰é¡¹ç›®å¤„äº**åˆå§‹åŒ–é˜¶æ®µ**ï¼Œæ­£åœ¨æŒ‰ç…§æ”¹é€ è®¡åˆ’é€æ­¥è¿ç§»åŠŸèƒ½ã€‚

### å·²å®Œæˆ
- âœ… é¡¹ç›®ç»“æ„æ­å»º
- âœ… æ”¹é€ è®¡åˆ’æ–‡æ¡£

### è¿›è¡Œä¸­
- ğŸš§ åŸºç¡€è®¾æ–½æ­å»º
- ğŸš§ æ•°æ®æ¨¡å‹å®šä¹‰

### å¾…å¼€å§‹
- â³ è®¤è¯æ¨¡å—
- â³ ç”¨æˆ·æ¨¡å—
- â³ è§†é¢‘æ¨¡å—
- â³ å…¶ä»–æ¨¡å—...

è¯¦ç»†è¿›åº¦è¯·æŸ¥çœ‹ [æ”¹é€ è®¡åˆ’æ–‡æ¡£](docs/migration-plan.md)ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. æäº¤æ›´æ”¹ï¼ˆ`git commit -m 'Add some AmazingFeature'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ”— ç›¸å…³é¡¹ç›®

- [vida](https://github.com/guyi-a/vida) - åŸPythonç‰ˆæœ¬

## ğŸ‘¨â€ğŸ’» ä½œè€…

**guyi-a** - [GitHub](https://github.com/guyi-a)

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æIssueæˆ–PRï¼
